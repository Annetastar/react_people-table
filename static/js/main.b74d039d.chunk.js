(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,n){e.exports=n(18)},18:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),l=n(9),c=n.n(l),o=n(6),u=n.n(o),i=n(10),s=n(7),m=n(1),p=n(2),h=n(4),d=n(3),f=n(5),b=function(){var e=Object(s.a)(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://mate-academy.github.io/react_people-table/api/people.json");case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),y=function(e){function t(){return Object(m.a)(this,t),Object(h.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.person,n=t.id,r=t.name,l=t.sex,c=t.age,o=t.born,u=t.died,i=t.century,s=t.father,m=t.mother,p=t.children,h=e.onClick,d=e.selectedId;return a.a.createElement("tr",{active:d===n?"true":"false",onClick:h,"data-person-id":n},a.a.createElement("td",null,n),a.a.createElement("td",{className:o<1650?"bornBefore1650":null},r),a.a.createElement("td",null,"f"===l?a.a.createElement("span",null,"\u2640"):a.a.createElement("span",null,"\u2642")),a.a.createElement("td",{className:c>=65?"ageAfter65":""},c),a.a.createElement("td",null,o),a.a.createElement("td",null,u),a.a.createElement("td",null,i),a.a.createElement("td",null,m),a.a.createElement("td",null,s),a.a.createElement("td",null,p.map(function(e,t){return p.length-1!==t?"".concat(e.name,", "):e.name})))}}]),t}(a.a.Component),E=function(e){function t(){var e,n;Object(m.a)(this,t);for(var r=arguments.length,a=new Array(r),l=0;l<r;l++)a[l]=arguments[l];return(n=Object(h.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(a)))).state={personIdSelect:null},n.selectPerson=function(e){n.setState({personIdSelect:+e.currentTarget.dataset.personId})},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t=this.props.people,n=this.state.personIdSelect;return a.a.createElement("table",{className:"table ui blue inverted table"},a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",null,"Id"),a.a.createElement("th",null,"Name"),a.a.createElement("th",null,"Sex"),a.a.createElement("th",null,"Age"),a.a.createElement("th",null,"Born"),a.a.createElement("th",null,"Died"),a.a.createElement("th",null,"Century"),a.a.createElement("th",null,"Mother"),a.a.createElement("th",null,"Father"),a.a.createElement("th",null,"Children"))),a.a.createElement("tbody",null,t.map(function(t,r){return a.a.createElement(y,{key:Math.random(),person:t,personId:r+1,selectPerson:e.selectPerson,selectedId:n})})))}}]),t}(a.a.Component),O=n(11);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(n,!0).forEach(function(t){Object(i.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var g=function(e){function t(){var e,n;Object(m.a)(this,t);for(var r=arguments.length,a=new Array(r),l=0;l<r;l++)a[l]=arguments[l];return(n=Object(h.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(a)))).state={people:[],filterOfPeople:[],sortValue:null,filterOfValue:""},n.getFilterFromPeople=Object(O.a)([function(e){return e.people},function(e){return e.filterOfValue},function(e){return e.sortValue}],function(e,t,n){var r=e.filter(function(e){return e.name.toLowerCase().includes(t.toLowerCase())||e.mother.toLowerCase().includes(t.toLowerCase())||e.father.toLowerCase().includes(t.toLowerCase())});switch(n){case"Id":return r.sort(function(e,t){return e.id-t.id});case"Name":return r.sort(function(e,t){return e.name.localeCompare(t.name)});case"Sex":return r.sort(function(e,t){return e.sex.localeCompare(t.sex)});case"Age":return r.sort(function(e,t){return e.age-t.age});case"Born":return r.sort(function(e,t){return e.born-t.born});case"Died":return r.sort(function(e,t){return e.died-t.died});case"\u0421entury":return r.sort(function(e,t){return e.century-t.century});default:return r}}),n.loadData=Object(s.a)(u.a.mark(function e(){var t,r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b();case 2:t=e.sent,r=t.map(function(e,n){return v({},e,{id:n+1,age:e.died-e.born,century:Math.ceil(e.died/100),father:e.father?e.father:"",mother:e.mother?e.mother:"",children:t.filter(function(t){return t.father===e.name||t.mother===e.name})})}),n.setState({people:r,filterOfPeople:r});case 5:case"end":return e.stop()}},e)})),n.handlerFilterValue=function(e){n.setState({filterOfValue:e.target.value})},n.handlerSortValue=function(e){n.setState({sortValue:e.target.textContent})},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"render",value:function(){var e=this.state.filterOfValue,t=this.getFilterFromPeople(this.state);return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"main-input ui left icon input"},a.a.createElement("input",{type:"text",placeholder:"Search users...",className:"item",value:e,onChange:this.handlerFilterValue}),a.a.createElement("i",{"aria-hidden":"true",className:"users icon"})),a.a.createElement("h2",null,"Filter by:"),a.a.createElement("div",{className:"main_buttons"},a.a.createElement("button",{className:"ui primary button",onClick:this.handlerSortValue,type:"submit"},"Id"),a.a.createElement("button",{className:"ui primary button",onClick:this.handlerSortValue,type:"submit"},"Name"),a.a.createElement("button",{className:"ui primary button",onClick:this.handlerSortValue,type:"submit"},"Sex"),a.a.createElement("button",{className:"ui primary button",onClick:this.handlerSortValue,type:"submit"},"Age"),a.a.createElement("button",{className:"ui primary button",onClick:this.handlerSortValue,type:"submit"},"Born"),a.a.createElement("button",{className:"ui primary button",onClick:this.handlerSortValue,type:"submit"},"Century")),a.a.createElement(E,{people:t}))}}]),t}(a.a.Component);c.a.render(a.a.createElement(g,{test:123}),document.getElementById("root"))}},[[12,1,2]]]);
//# sourceMappingURL=main.b74d039d.chunk.js.map